(this.webpackChunkreact_webpack_dev=this.webpackChunkreact_webpack_dev||[]).push([[179],{4969:(e,t,n)=>{"use strict";var a=n(7294),l=n(3935),r=(n(8548),n(5722),n(6914));function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,l,r=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);i=!0);}catch(e){o=!0,l=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw l}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}const c=function(e){var t=e.ticket,n=(e.client,(0,a.useContext)(le)),l=(n.setChild,n.setShowModal),o=n.clickTick,c=i((0,a.useState)(""),2),s=c[0],u=c[1],d=i((0,a.useState)(!0),2),m=d[0],p=d[1];return(0,a.useEffect)((function(){u(t.custom_fields.cf_clickup_ticket)}),[]),(0,a.useEffect)((function(){null===s&&p(!1)}),[s]),a.createElement("div",null,m&&a.createElement("div",{style:{border:"1px solid lightgrey",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",flexDirection:"column",paddingTop:"1vh",padding:"4px",maxWidth:"98vw",borderRadius:"4px",height:"95vh",overflowY:"hidden"}},a.createElement("img",{src:"https://dcbeer.com/wp-content/uploads/2012/05/samadamsbanner.jpg",width:"100px"}),a.createElement("div",null,"This ticket has Click Up ticket ",a.createElement("strong",null,s)," associated"),a.createElement("br",null),o&&a.createElement(a.Fragment,null,a.createElement("strong",null,"Click Up Status:"),a.createElement("p",{style:{backgroundColor:"".concat(o.status.color),borderRadius:"2px",padding:"2px"}},o.status.status.toUpperCase())),a.createElement(r.Z,{variant:"outlined",onClick:function(){return l(!0)}},"More Detailed View")),!m&&a.createElement("div",{style:{border:"1px solid lightgrey",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",flexDirection:"column",padding:"1vh",width:"94vw",borderRadius:"4px",height:"94vh"}},a.createElement("img",{src:"https://dcbeer.com/wp-content/uploads/2012/05/samadamsbanner.jpg",width:"100px"}),a.createElement("h4",null,"Click up ticket doesn't exist"),a.createElement(r.Z,{variant:"outlined",onClick:function(){return l(!0)}},"Make Click Up Ticket")))};var s=n(5697),u=n.n(s),d=n(4649),m=[{value:"",label:"Who is Requesting?"},{value:"45c3d4ca-f36c-47c4-bb0e-d8f66cb08e49",label:"AAP"},{value:"2ac912e7-4c67-4a20-a88e-c5b573acc59d",label:"TSC"},{value:"45ecfb6a-dcd4-4fa1-ab4e-a88127b7e741",label:"Menard's"},{value:"4755f95d-7e13-4122-9d4e-b4cb4451af3f",label:"PetPeople"},{value:"0f6fed9c-9e13-43a6-b79f-03f68a67202d",label:"TBC"},{value:"89705354-3e0b-4d9a-b2c3-7ca5232e825e",label:"ATD"},{value:"6b56f348-eecc-438e-881f-270f8f386d80",label:"MiltonCat"},{value:"85a42e7b-c746-49cd-afae-a4e09c188ab6",label:"Skullcandy"},{value:"11bc28f1-75fa-4226-a366-bb5ef4f1c9de",label:"Pepsi"},{value:"a665613e-c932-4196-9bba-6b51356c2ef5",label:"OneRail"},{value:"31d4abc2-fa8b-45be-9694-e686291cc88e",label:"Clmbr"},{value:"f1444b44-b75c-4451-855e-27068bd1cc36",label:"Peloton"},{value:"7a4e7755-b302-4dea-8b73-c6fef6441822",label:"World Electric"},{value:"b7169c14-93ac-4b99-b2ea-23f8b36f985b",label:"Lowes"},{value:"9ae72a95-a5df-428a-8cff-22cc2451df8e",label:"AAFES"},{value:"4d014f1a-e3d8-433c-930a-602d55f2b383",label:"Galleghar Tire"},{value:"45ecfb6a-dcd4-4fa1-ab4e-a88127b7e741",label:"Menards"},{value:"1ab62bd3-cc40-45cb-8ba3-0c0a3a0bf86b",label:"onePotluck"},{value:"f8580be7-3b19-40ce-b208-c791bc25affa",label:"Pitney Bowes"}],p=[{value:"aap",label:"aap"},{value:"address/name issue",label:"address/name issue"},{value:"all customer",label:"all customer"},{value:"atd",label:"atd"},{value:"audit/watcher",label:"audit/watcher"},{value:"back end",label:"back end"},{value:"back-end",label:"back-end"},{value:"blue green",label:"blue green"},{value:"blue team",label:"blue team"},{value:"bug",label:"bug"},{value:"bugs",label:"bugs"},{value:"cd",label:"cd"},{value:"ci",label:"ci"},{value:"contract(s)",label:"contract(s)"},{value:"core",label:"core"},{value:"cx",label:"cx"},{value:"data engineering",label:"data engineering"},{value:"design",label:"design"},{value:"devs",label:"devs"},{value:"dispatching issue",label:"dispatching issue"},{value:"door dash",label:"door dash"},{value:"duplicate",label:"duplicate"},{value:"edi",label:"edi"},{value:"engineering",label:"engineering"},{value:"epic",label:"epic"},{value:"escalation",label:"escalation"},{value:"eta",label:"eta"},{value:"extra",label:"extra"},{value:"feature-enhancement",label:"feature-enhancement"},{value:"featureflags",label:"featureflags"},{value:"fedex",label:"fedex"},{value:"filter/sort issue",label:"filter/sort issue"},{value:"front end",label:"front end"},{value:"front-end",label:"front-end"},{value:"global",label:"global"},{value:"green",label:"green"},{value:"green team",label:"green team"},{value:"high-impact",label:"high-impact"},{value:"holiday",label:"holiday"},{value:"hotfix",label:"hotfix"},{value:"implementation",label:"implementation"},{value:"insert",label:"insert"},{value:"integrations",label:"integrations"},{value:"limestone",label:"limestone"},{value:"logistics",label:"logistics"},{value:"lp portal",label:"lp portal"},{value:"lp pricing",label:"lp pricing"},{value:"menard",label:"menard"},{value:"menards",label:"menards"},{value:"milton cat",label:"milton cat"},{value:"miltoncat",label:"miltoncat"},{value:"mobile",label:"mobile"},{value:"not a bug",label:"not a bug"},{value:"notifications",label:"notifications"},{value:"ops",label:"ops"},{value:"ord",label:"ord"},{value:"order status",label:"order status"},{value:"pepsi",label:"pepsi"},{value:"petpeople",label:"petpeople"},{value:"plugin",label:"plugin"},{value:"pod issue",label:"pod issue"},{value:"qa",label:"qa"},{value:"red",label:"red"},{value:"red team",label:"red team"},{value:"rel-team",label:"rel-team"},{value:"reporting",label:"reporting"},{value:"returns",label:"returns"},{value:"revoke",label:"revoke"},{value:"risk",label:"risk"},{value:"risk-mit",label:"risk-mit"},{value:"routing issue",label:"routing issue"},{value:"scaling",label:"scaling"},{value:"skullcandy",label:"skullcandy"},{value:"staging",label:"staging"},{value:"support",label:"support"},{value:"synthetic events",label:"synthetic events"},{value:"tbc",label:"tbc"},{value:"tech debt",label:"tech debt"},{value:"technical design",label:"technical design"},{value:"test(s)",label:"test(s)"}],f=[{value:"a932b0ae-1ce9-4664-9b21-af813f5e5e97",label:"Low",level:4},{value:"dfc34a8f-0c76-4e30-a522-9b7caa722d92",label:"Normal",level:3},{value:"23a52a86-534e-4d5a-8adc-274054d1eb19",label:"High",level:2},{value:"72790d5b-fb1e-44b6-be6a-59f8ff4e5ac3",label:"Urgent",level:1}],b=[{value:14701989,label:"Adam",14701989:"Adam"},{value:12644874,label:"Chelsea",12644874:"Chelsea"},{value:12703227,label:"Corrie",12703227:"Corrie"},{value:26198452,label:"Marissa",26198452:"Marissa"},{value:26300173,label:"Sam",26300173:"Sam"}],v={"Advance Auto Parts":69000959145,ATD:69000959147,"Menard's":69000959172,MiltonCAT:69000959173,Pepsi:69000959179,PetPeople:69000998973,Skullcandy:7,"TBC/NTW":69000959175,TSC:69000972056};const h=function(e){var t=e.clickCustID,n=e.client;return setTimeout((function(){n.instance.close()}),2e3),a.createElement("div",null,"Click up Ticket sent, ticket created ",t," and Freshdesk ticket updated successfully. You can close this window.")};var g,y,E,A,k,C=n(8025),S=n(7666),x=n(3137),w=n(4802),_=n(3031),q=n(3992),T=n(461),Z=n(4347),B=n(6230),D=n.n(B),I=n(1389),N=n(4702),U=n(2073);function R(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=(0,U.Ps)(g||(g=R(["\n  query GET_TAGS{\n    tags{\n      value\n    }\n  }\n"]))),O=(0,U.Ps)(y||(y=R(["\n  query GET_REQUESTERS{\n    requesters{\n      value\n      label\n    }\n  }\n"]))),P=(0,U.Ps)(E||(E=R(["\n  query GET_ASSIGNEES{\n    assignees{\n      value\n      label\n    }\n  }\n"]))),M=(0,U.Ps)(A||(A=R(["\n  query GET_COMPANIES{\n    companies{\n      value\n      label\n    }\n  }\n"]))),F=(0,U.Ps)(k||(k=R(["\n  query GET_PRIORITIES{\n    priorities{\n      value\n      label\n      level\n    }\n  }\n"])));function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,l,r=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);i=!0);}catch(e){o=!0,l=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw l}}return r}}(e,t)||z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var V=function(e){var t=e.ticket,n=e.client,l=(0,a.useContext)(le).setChild,i=W((0,a.useState)(!1),2),o=i[0],c=i[1],s=W((0,a.useState)([]),2),u=s[0],v=s[1],g=W((0,N.t)(j,{fetchPolicy:"no-cache"}),2),y=g[0],E=g[1],A=E.loading,k=(E.error,E.data),B=W((0,N.t)(P,{fetchPolicy:"no-cache"}),2),U=B[0],R=B[1],V=R.loading,Y=(R.error,R.data),G=W((0,N.t)(M,{fetchPolicy:"no-cache"}),2),K=G[0],L=G[1],X=L.loading,Q=(L.error,L.data),$=W((0,N.t)(F,{fetchPolicy:"no-cache"}),2),H=$[0],ee=$[1],te=ee.loading,ne=(ee.error,ee.data),ae=W((0,N.t)(O,{fetchPolicy:"no-cache"}),2),re=ae[0],ie=ae[1],oe=ie.loading,ce=(ie.error,ie.data);(0,a.useEffect)((function(){y(),U(),K(),H(),re()}),[]),(0,a.useEffect)((function(){!A&&k&&console.log("got tag data via graphql",k)}),[k]),(0,a.useEffect)((function(){!V&&Y&&console.log("got assignee data via graphql",Y)}),[Y]),(0,a.useEffect)((function(){!X&&Q&&console.log("got company data via graphql",Q)}),[Q]),(0,a.useEffect)((function(){!te&&ne&&console.log("got priority data via graphql",ne)}),[ne]),(0,a.useEffect)((function(){!oe&&ce&&console.log("got requester data via graphql",ce)}),[ce]);var se=function e(t){n.request.get("https://api.clickup.com/api/v2/task/".concat(t),{headers:{Authorization:"pk_26300173_CI4KUDBCD4VJO6UUX1TKWVRZNIZLNYD5"}}).then((function(n){var a=JSON.parse(n.response);console.log(a.custom_id),null===a.custom_id?e(t):ue(a.custom_id)})).catch((function(e){console.log(e)}))},ue=function(e){var r={custom_fields:{cf_clickup_ticket:e}},i={headers:{Authorization:"Basic YlA4a0NWQ0o0cmlKUEllRjFlSG86WA==","Content-Type":"application/json"},body:JSON.stringify(r)};n.request.put("https://onerail.freshdesk.com/api/v2/tickets/".concat(t.id),i).then((function(t){l(a.createElement(h,{client:n,clickCustID:e}))})).catch((function(e){console.log(e)}))},de={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},me={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},pe={display:"flex",minWidth:0,overflow:"hidden"},fe={display:"block",width:"auto",height:"100%"},be=u.map((function(e,t){return a.createElement("div",{style:me,key:e.name,onClick:function(){return n=t,(e=u,a=function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).splice(n,1),void v(a);var e,n,a}},a.createElement("div",{style:pe},a.createElement("img",{src:e.preview,style:fe})))})),ve=(0,d.TA)({initialValues:{userStory:"",description:"",steps:"",acceptance:"",reqCustomer:"",assignees:[],tags:[],priority:f[t.priority-1].value,reqDueDate:0,attachments:[]},validate:function(e){var t={};return e.userStory||(t.userStory="User Story required"),e.description||(t.description="Description required"),e.steps||(t.steps="Steps required"),e.acceptance||(t.acceptance="Acceptance required"),e.reqCustomer||(t.reqCustomer="Requesting customer required"),0===e.assignees.length&&(t.assignees="Assignees required"),0===e.tags.length&&(t.tags="Tags required"),e.priority||(t.priority="Priority required"),e.reqDueDate||(t.reqDueDate="Requested date required"),t},onSubmit:function(e){var a=function(e){var t=0;switch(e){case"a932b0ae-1ce9-4664-9b21-af813f5e5e97":t=4;break;case"dfc34a8f-0c76-4e30-a522-9b7caa722d92":t=3;break;case"23a52a86-534e-4d5a-8adc-274054d1eb19":t=2;break;case"72790d5b-fb1e-44b6-be6a-59f8ff4e5ac3":t=1}return t}(e.priority),l="".concat(e.reqDueDate,"T00:00:00"),r=Date.parse(l),i=r-Date.now(),o={name:e.userStory,markdown_description:"### Problem Description: \n ".concat(e.description," \n ### Steps to Reproduce: \n ").concat(e.steps," \n ### Acceptance Criteria: \n ").concat(e.acceptance),assignees:e.assignees,tags:e.tags,status:"Requested",priority:a,due_date:r,due_date_time:!1,time_estimate:i,start_date:Date.now(),start_date_time:!1,notify_all:!0,parent:null,links_to:null,check_required_custom_Textfields:!0,custom_fields:[{id:"693b7b05-8c30-4e7b-be39-295245333faf",value:e.reqCustomer},{id:"5418bbd8-47f5-479c-8b07-88dded5b0540",value:"Freshdesk Ticket ".concat(t.id)},{id:"9cfbd761-8aff-416c-bd8e-6fb06f2849f3",value:e.priority}]};c(!0);var s={headers:{Authorization:"pk_26300173_CI4KUDBCD4VJO6UUX1TKWVRZNIZLNYD5","Content-Type":"application/json"},body:JSON.stringify(o)};n.request.post("https://api.clickup.com/api/v2/list/71601233/task",s).then((function(t){var n=JSON.parse(t.response);console.log("response form clickup:",n.id),function(e,t){t.map((function(t,n){console.log("file",t.path);var a=new(D());a.append("attachment",t.path),a.append("filename",t.name),"https://api.clickup.com/api/v2/task/".concat(e,"/attachment");var l,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=z(e))){n&&(e=n);var a=0,l=function(){};return{s:l,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){o=!0,r=e},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw r}}}}(a.values());try{for(r.s();!(l=r.n()).done;){var i=l.value;console.log("values",i)}}catch(e){r.e(e)}finally{r.f()}}))}(n.id,e.attachments),setTimeout((function(){se(n.id)}),500)}),(function(e){console.log(e)}))}});return a.createElement("div",null,!o&&a.createElement("div",{style:{marginTop:"2vh"}},a.createElement("form",{onSubmit:ve.handleSubmit},a.createElement("div",{className:"input-div"},a.createElement(C.Z,null,a.createElement(S.Z,{shrink:!0,htmlFor:"assignees",style:{backgroundColor:"white",padding:"3px"}},"User Story:"),a.createElement(x.Z,{id:"userStory",name:"userStory",type:"text",className:"input",value:ve.values.userStory,onChange:ve.handleChange,error:ve.touched.userStory&&Boolean(ve.errors.userStory)}))),a.createElement("br",null),a.createElement("br",null),a.createElement("div",{className:"input-div"},a.createElement(C.Z,null,a.createElement(S.Z,{shrink:!0,htmlFor:"assignees",style:{backgroundColor:"white",padding:"3px"}},"Assignee:"),a.createElement(w.Z,{key:"assignees",labelID:"assignees",id:"assignees",name:"assignees",multiple:!0,defaultValue:"Assignee",onChange:ve.handleChange,value:ve.values.assignees,error:ve.touched.assignees&&Boolean(ve.errors.assignees),input:a.createElement(_.Z,{id:"assignees",label:"Chip"}),renderValue:function(e){return a.createElement(q.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5}},e.map((function(e){return a.createElement(T.Z,{key:e,label:b.filter((function(t){return t[e]}))[0][e]})})))}},b.map((function(e){return a.createElement(Z.Z,{key:e,value:e.value},e.label)}))))),a.createElement("br",null),a.createElement("div",{className:"input-div"},a.createElement(C.Z,null,a.createElement(S.Z,{shrink:!0,htmlFor:"description",style:{backgroundColor:"white",padding:"3px"}},"Description:"),a.createElement(x.Z,{id:"desription","aria-label":"description",name:"description",className:"textarea",placeholder:"Enter description of problem",value:ve.values.description,onChange:ve.handleChange,error:ve.touched.description&&Boolean(ve.errors.description),multiline:!0,minRows:3}))),a.createElement("br",null),a.createElement("div",{className:"input-div"},a.createElement(C.Z,null,a.createElement(S.Z,{shrink:!0,htmlFor:"steps",style:{backgroundColor:"white",padding:"3px"}},"Steps to Reproduce:"),a.createElement(x.Z,{id:"steps","aria-label":"steps",name:"steps",className:"textarea",placeholder:"Enter steps to reproduce problem",value:ve.values.steps,onChange:ve.handleChange,error:ve.touched.steps&&Boolean(ve.errors.steps),multiline:!0,minRows:3}))),a.createElement("br",null),a.createElement("div",{className:"input-div"},a.createElement(C.Z,null,a.createElement(S.Z,{shrink:!0,htmlFor:"notes",style:{backgroundColor:"white",padding:"3px"}},"Acceptance Criteria:"),a.createElement(x.Z,{id:"acceptance","aria-label":"acceptance",name:"acceptance",className:"textarea",placeholder:"Enter acceptance criteria for problem resolution",value:ve.values.acceptance,onChange:ve.handleChange,error:ve.touched.acceptance&&Boolean(ve.errors.acceptance),multiline:!0,minRows:3}))),a.createElement("br",null),a.createElement("div",{className:"input-div"},a.createElement(C.Z,null,a.createElement(S.Z,{shrink:!0,htmlFor:"date",style:{backgroundColor:"white",padding:"3px"}},"Requested Due Date:"),a.createElement(x.Z,{type:"date",id:"date",name:"reqDueDate",className:"input",value:ve.values.reqDueDate,onChange:ve.handleChange,error:ve.touched.reqDueDate&&Boolean(ve.errors.reqDueDate)}))),a.createElement("br",null),a.createElement("br",null),a.createElement("div",{className:"input-div"},a.createElement(C.Z,{error:ve.touched.reqCustomer&&Boolean(ve.errors.reqCustomer)},a.createElement(S.Z,{shrink:!0,htmlFor:"reqCustomer",style:{backgroundColor:"white",padding:"3px"}},"Requesting Customer:"),a.createElement(w.Z,{id:"reqCustomer",name:"reqCustomer",className:"input",value:ve.values.reqCustomer,onChange:ve.handleChange,input:a.createElement(_.Z,{id:"reqCustomer",label:"reqCustomer"}),style:{height:"200%"}},m.map((function(e,t){return a.createElement(Z.Z,{key:e.label,value:e.value},e.label)}))))),a.createElement("br",null),a.createElement("div",{className:"input-div"},a.createElement(C.Z,{error:ve.touched.priority&&Boolean(ve.errors.priority)},a.createElement(S.Z,{shrink:!0,htmlFor:"priority",style:{backgroundColor:"white",padding:"3px"}},"Priority:"),a.createElement(w.Z,{id:"priority",name:"priority",className:"input",value:ve.values.priority,onChange:ve.handleChange,input:a.createElement(_.Z,{id:"priority",label:"Priority"}),style:{height:"200%"}},f.map((function(e,t){return a.createElement(Z.Z,{key:e.label,value:e.value},e.label)}))))),a.createElement("br",null),a.createElement("div",{className:"input-div"},a.createElement(C.Z,null,a.createElement(S.Z,{shrink:!0,htmlFor:"tags",style:{backgroundColor:"white",padding:"3px"}},"Tags:"),a.createElement(w.Z,{select:!0,id:"tags",name:"tags",multiple:!0,onChange:ve.handleChange,value:ve.values.tags,error:ve.touched.tags&&Boolean(ve.errors.tags),renderValue:function(e){return a.createElement(q.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5}},e.map((function(e){return a.createElement(T.Z,{key:e,label:e})})))}},p.map((function(e){return a.createElement(Z.Z,{key:e.value,value:e.value},e.label)}))))),a.createElement("br",null),a.createElement("div",{className:"input-div"},a.createElement(I.ZP,{onDrop:function(e){ve.setFieldValue("attachments",e),v(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))},multiple:!0},(function(e){var t=e.getRootProps,n=e.getInputProps;return a.createElement("section",null,a.createElement("div",t({style:de}),a.createElement("input",n()),a.createElement("p",null,"Drag 'n' drop some files here, or click to select files")),a.createElement("aside",null,be))}))),a.createElement("br",null),a.createElement(r.Z,{type:"submit"},"Make Click-up Ticket"))),o&&a.createElement("div",null,"Sending..."))};V.propTypes={client:u().object};const Y=V;function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,l,r=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);i=!0);}catch(e){o=!0,l=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw l}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}const L=function(e){var t=e.client,n=(0,a.useContext)(le),l=(n.setChild,n.setShowModal,n.clickTick),r=n.comments,i=G((0,a.useState)(),2),o=i[0],c=i[1],s=G((0,a.useState)(),2),u=s[0],d=s[1],m=G((0,a.useState)(),2),p=m[0],f=m[1];return(0,a.useEffect)((function(){l&&l.linked_tasks.length>0&&c(l.linked_tasks)}),[l]),(0,a.useEffect)((function(){o&&o.map((function(e){var n={headers:{Authorization:"pk_26300173_CI4KUDBCD4VJO6UUX1TKWVRZNIZLNYD5"}};t.request.get("https://api.clickup.com/api/v2/task/".concat(e.link_id,"/"),n).then((function(e){d(JSON.parse(e.response))})).catch((function(e){console.log(e)})),t.request.get("https://api.clickup.com/api/v2/task/".concat(e.link_id,"/comment/"),n).then((function(e){f(JSON.parse(e.response))})).catch((function(e){console.log(e)}))}))}),[o]),a.createElement("div",null,l&&a.createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}},a.createElement("h3",null,"Click Up Ticket ",l.custom_id),a.createElement("strong",null,"Status:"),a.createElement("p",{style:{backgroundColor:"".concat(l.status.color),borderRadius:"2px",padding:"2px"}},l.status.status.toUpperCase()),a.createElement("div",null,a.createElement("div",null,"Comments"),a.createElement("div",null,r.comments.length>0&&a.createElement("ul",null,r.comments.map((function(e){return a.createElement("li",{style:{marginBottom:"5px"}},a.createElement("strong",null,e.user.username,":"),e.comment_text)}))),0===r.comments.length&&a.createElement(a.Fragment,null,"Ticket has no comments"))),a.createElement("a",{href:l.url,target:"blank"},"Link to Ticket")),u&&a.createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}},a.createElement("h3",null,"Click Up Ticket ",u.custom_id),a.createElement("strong",null,"Status:"),a.createElement("p",{style:{backgroundColor:"".concat(u.status.color),borderRadius:"2px",padding:"2px"}},u.status.status.toUpperCase()),a.createElement("div",null,a.createElement("div",null,"Comments"),a.createElement("div",null,p.comments.length>0&&a.createElement("ul",null,p.comments.map((function(e){return a.createElement("li",{style:{marginBottom:"5px"}},a.createElement("strong",null,e.user.username,":"),e.comment_text)}))),0===p.comments.length&&a.createElement(a.Fragment,null,"Ticket has no comments"))),a.createElement("a",{href:u.url,target:"blank"},"Link to Ticket")))};var X=n(3768),Q=n(5367),$=n(8330),H=n(9896),ee=new Q.u({uri:"http://localhost:9001/graphql"}),te=new $.f({cache:new H.h,link:ee});function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,l,r=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);i=!0);}catch(e){o=!0,l=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw l}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var le=(0,a.createContext)();const re=function(){var e=ne((0,a.useState)(!1),2),t=e[0],n=e[1],l=ne((0,a.useState)(a.createElement("h3",null,"App is loading")),2),r=l[0],i=l[1],o=ne((0,a.useState)(!1),2),s=o[0],u=o[1],d=ne((0,a.useState)(),2),m=d[0],p=d[1],f=ne((0,a.useState)(),2),b=f[0],h=f[1],g=ne((0,a.useState)(),2),y=g[0],E=g[1],A=ne((0,a.useState)(),2),k=A[0],C=A[1],S=function(e,t){var n={headers:{Authorization:"pk_26300173_CI4KUDBCD4VJO6UUX1TKWVRZNIZLNYD5"}};e.request.get("https://api.clickup.com/api/v2/task/".concat(t,"/?custom_task_ids=true&team_id=2224044"),n).then((function(e){E(JSON.parse(e.response))})).catch((function(e){console.log(e)})),e.request.get("https://api.clickup.com/api/v2/task/".concat(t,"/comment/?custom_task_ids=true&team_id=2224044"),n).then((function(e){C(JSON.parse(e.response))})).catch((function(e){console.log(e)}))};return(0,a.useEffect)((function(){var e=document.createElement("script");e.src="https://static.freshdev.io/fdk/2.0/assets/fresh_client.js",e.addEventListener("load",(function(){return n(!0)})),e.defer=!0,document.head.appendChild(e)}),[]),(0,a.useEffect)((function(){b&&m&&app.initialized().then((function(e){!function(e){if(b.custom_fields.cf_customer&&null===b.custom_fields.cf_customer&&null===m.company_id){var t={company_id:v[b.custom_fields.cf_customer]},n={headers:{Authorization:"Basic YlA4a0NWQ0o0cmlKUEllRjFlSG86WA==","Content-Type":"application/json"},body:JSON.stringify(t)};e.request.put("https://onerail.freshdesk.com/api/v2/contacts/".concat(m.id),n).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}else if(m.company_id&&null===b.custom_fields.cf_customer&&null===b.custom_fields.cf_customer){var a={custom_fields:{cf_customer:Object.keys(v).filter((function(e){return v[e]===m.company_id}))[0]}};n={headers:{Authorization:"Basic YlA4a0NWQ0o0cmlKUEllRjFlSG86WA==","Content-Type":"application/json"},body:JSON.stringify(a)},e.request.put("https://onerail.freshdesk.com/api/v2/tickets/".concat(b.id),n).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}else m.company_id?console.log("customer belongs to ",m.company_id):console.log("ticket created by internal agent")}(e)}))}),[b,m]),(0,a.useEffect)((function(){(t||s)&&(app.initialized().then((function(e){e.data.get("contact").then((function(e){p(e.contact)})),e.data.get("ticket").then((function(t){var n=t.ticket.custom_fields.cf_clickup_ticket;window.innerWidth<300?n?(S(e,n),i(a.createElement(c,{ticket:t.ticket,client:e})),u(!1)):(i(a.createElement(c,{ticket:t.ticket,client:e})),u(!1)):null===n?i(a.createElement(Y,{ticket:t.ticket,client:e})):(S(e,n),i(a.createElement(L,{client:e}))),h(t.ticket)}))})),s&&app.initialized().then((function(e){e.interface.trigger("showModal",{title:"ClickUp Integration",template:"index.html"}).then((function(e){})).catch((function(e){}))})))}),[t,s]),a.createElement(X.e,{client:te},a.createElement(le.Provider,{value:{setChild:i,setShowModal:u,clickTick:y,setClickTick:E,comments:k}},a.createElement("div",null,r)))};l.render(a.createElement(a.StrictMode,null,a.createElement(re,null)),document.getElementById("root"))},9087:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(3645),l=n.n(a)()(!0);l.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Inter&display=swap);"]),l.push([e.id,'.App {\r\n  text-align: center;\r\n}\r\n\r\n.App-logo {\r\n  height: 40vmin;\r\n  pointer-events: none;\r\n}\r\n\r\n.input-div{\r\n  display:flex;\r\n  flex-direction:column;\r\n\r\n}\r\n.input{\r\n  border-radius: 5px;\r\n  height: 4vh;\r\n  font-size: 2vh;\r\n  padding-left: 1vw;\r\n  font-family:"Inter"\r\n}\r\n.textarea{\r\n  height: 14vh;\r\n  border: 1px solid grey;\r\n  border-radius: 5px;\r\n  font-family:"Inter"\r\n}\r\nlabel{\r\n  font-weight: 900;\r\n  margin-bottom:0.5vh;\r\n}\r\n\r\n\r\n',"",{version:3,sources:["webpack://src/App.css"],names:[],mappings:"AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,cAAc;EACd,oBAAoB;AACtB;;AAEA;EACE,YAAY;EACZ,qBAAqB;;AAEvB;AACA;EACE,kBAAkB;EAClB,WAAW;EACX,cAAc;EACd,iBAAiB;EACjB;AACF;AACA;EACE,YAAY;EACZ,sBAAsB;EACtB,kBAAkB;EAClB;AACF;AACA;EACE,gBAAgB;EAChB,mBAAmB;AACrB",sourcesContent:['@import url(\'https://fonts.googleapis.com/css2?family=Inter&display=swap\');\r\n\r\n.App {\r\n  text-align: center;\r\n}\r\n\r\n.App-logo {\r\n  height: 40vmin;\r\n  pointer-events: none;\r\n}\r\n\r\n.input-div{\r\n  display:flex;\r\n  flex-direction:column;\r\n\r\n}\r\n.input{\r\n  border-radius: 5px;\r\n  height: 4vh;\r\n  font-size: 2vh;\r\n  padding-left: 1vw;\r\n  font-family:"Inter"\r\n}\r\n.textarea{\r\n  height: 14vh;\r\n  border: 1px solid grey;\r\n  border-radius: 5px;\r\n  font-family:"Inter"\r\n}\r\nlabel{\r\n  font-weight: 900;\r\n  margin-bottom:0.5vh;\r\n}\r\n\r\n\r\n'],sourceRoot:""}]);const r=l},1424:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(3645),l=n.n(a)()(!0);l.push([e.id,'body {\r\n\tmargin: 0;\r\n\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\r\n\t\t"Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\r\n\t\tsans-serif;\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\theight:200%;\r\n}\r\n\r\ncode {\r\n\tfont-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\r\n\t\tmonospace;\r\n}\r\n',"",{version:3,sources:["webpack://src/index.css"],names:[],mappings:"AAAA;CACC,SAAS;CACT;;YAEW;CACX,mCAAmC;CACnC,kCAAkC;CAClC,WAAW;AACZ;;AAEA;CACC;WACU;AACX",sourcesContent:['body {\r\n\tmargin: 0;\r\n\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\r\n\t\t"Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\r\n\t\tsans-serif;\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\theight:200%;\r\n}\r\n\r\ncode {\r\n\tfont-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\r\n\t\tmonospace;\r\n}\r\n'],sourceRoot:""}]);const r=l},5722:(e,t,n)=>{var a=n(3379),l=n(9087);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.id,l,""]]);a(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},8548:(e,t,n)=>{var a=n(3379),l=n(1424);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.id,l,""]]);a(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}}},e=>{var t=t=>e(e.s=t);e.O(0,[216],(()=>(t(6981),t(4969)))),e.O()}]);
//# sourceMappingURL=main.fd094a02.js.map